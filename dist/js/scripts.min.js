"use strict";document.addEventListener("DOMContentLoaded",function(e){new ImageUploader});
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var l=t[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var ImageUploader=function(){function e(){_classCallCheck(this,e),this.elForm=document.querySelector("#image-uploader"),this.elFileInput=this.elForm.querySelector("#file_upload"),this.elSubmit=this.elForm.querySelector('input[type="submit"]'),this.elFileListImage=this.elForm.querySelector(".image-uploader__list.list--file-image"),this.elFileListSize=this.elForm.querySelector(".image-uploader__list.list--file-size"),this.state={files:[]},this.bindEvents()}return _createClass(e,[{key:"bindEvents",value:function(){var t=this;this.elForm.addEventListener("submit",function(e){t.state.files.length<=0&&e.preventDefault()}),this.elFileInput.addEventListener("change",function(e){t.state.files=t.elFileInput.files,t.validateInput()&&(t.elSubmit.classList.add("active"),t.clearLists(t.elFileListImage),t.clearLists(t.elFileListSize),t.createFileList(),t.elFileListImage.classList.add("active"),t.elFileListSize.classList.add("active"))})}},{key:"validateInput",value:function(){var t=0;return Array.from(this.state.files).forEach(function(e){e.type.includes("image")||(t+=1)}),!t}},{key:"clearLists",value:function(e){Array.from(e.querySelector("ul").children).forEach(function(e){e.remove()})}},{key:"createFileList",value:function(){var a=this;Array.from(this.state.files).forEach(function(l){var e=new FileReader;e.readAsDataURL(l),e.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){l.width=i.width,l.height=i.height;var e=document.createElement("li"),t=document.createElement("li");e.innerText=l.name,t.innerHTML=(l.size/1024).toPrecision(5)+'<span class="byte-size">kilobytes | '.concat(l.width,"px x ").concat(l.height,"px</span>"),a.elFileListImage.querySelector("ul").appendChild(e),a.elFileListSize.querySelector("ul").appendChild(t)}}})}}]),e}();
//# sourceMappingURL=scripts.min.js.map
